# ----------------------------------------------------------------------------
# Database
# ----------------------------------------------------------------------------
# Postgres connection string used by the application (Drizzle, Next API routes).
DATABASE_URL=postgres://maxvideoai:maxvideoai@localhost:5432/maxvideoai
# Optional separate connection string for background jobs / analytics.
SUPABASE_DB_URL=postgres://maxvideoai:maxvideoai@localhost:5432/maxvideoai
# Shadow database for Drizzle migrations (set if using a separate instance).
# SHADOW_DATABASE_URL=postgres://maxvideoai:maxvideoai@localhost:5433/maxvideoai_shadow

# Local Postgres overrides picked up by the healthcheck endpoint.
# PGHOST=localhost
# PGPORT=5432
# PGUSER=maxvideoai
# PGDATABASE=maxvideoai

# Preview deployments
# When deploying to a Vercel Preview, set PREVIEW_ALLOW_ANON=1 to allow
# anonymous visitors to view the marketing pages while the app routes remain
# protected (401 when not authenticated).
# Leave unset or "0" for production / authenticated environments.
PREVIEW_ALLOW_ANON=0

# Public site URLs
# NEXT_PUBLIC_APP_URL is exposed to the client and should point to the canonical
# origin for building absolute links. APP_URL is the server-side equivalent used
# for webhook callbacks.
NEXT_PUBLIC_APP_URL=http://localhost:3000
APP_URL=http://localhost:3000

# Public API base used by the frontend when calling serverless endpoints directly.
NEXT_PUBLIC_API_BASE=http://localhost:3000/api

# Supabase (optional)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=public-anon-key
SUPABASE_SERVICE_ROLE_KEY=service-role-secret
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=public-anon-key

# Stripe billing (optional)
STRIPE_SECRET_KEY=sk_test_your_secret
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key
STRIPE_PRICE_SMALL=price_small
STRIPE_PRICE_MEDIUM=price_medium
STRIPE_PRICE_LARGE=price_large
STRIPE_USAGE_ITEM_SECONDS=price_usage_seconds
STRIPE_USAGE_ITEM_CLIPS=price_usage_clips
PRICING_OVERRIDES={}

# Object storage (S3 / Cloudflare R2)
S3_ACCESS_KEY_ID=your-access-key
S3_SECRET_ACCESS_KEY=your-secret-key
S3_REGION=auto
S3_BUCKET=maxvideoai-uploads
S3_PUBLIC_BASE_URL=https://cdn.example.com
# Optional overrides
# S3_ENDPOINT=https://accountid.r2.cloudflarestorage.com
# S3_FORCE_PATH_STYLE=true

# FAL provider configuration
FAL_KEY=your-fal-api-key
# Legacy alias supported
FAL_API_KEY=your-fal-api-key
FAL_TIMEOUT_MS=20000
FAL_QUEUE_LOGS_DEFAULT=0
FAL_QUEUE_BASE=https://queue.fal.run
FAL_API_BASE=https://fal.run
FAL_WEBHOOK_PATH=/api/fal/webhook
FAL_JWKS_URL=https://rest.alpha.fal.ai/.well-known/jwks.json
FAL_PRICE_MARKUP=1.35
FAL_PRICE_CACHE_TTL_MS=300000

# Optional Fal overrides (uncomment if needed)
# FAL_QUEUE_LOGS_DEFAULT=1

# Rendering provider backoff / polling knobs
PROVIDER_POLL_INTERVAL_MS=2000
PROVIDER_POLL_MAX_MS=600000
PROVIDER_RECHECK_THRESHOLD_MS=60000

# External providers
VEO_API_KEY=your-veo-api-key

# Vercel build environment (populated automatically in CI)
VERCEL_OIDC_TOKEN=
